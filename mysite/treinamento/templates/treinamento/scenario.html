<!DOCTYPE html>
{%load staticfiles %}
<html lang="pt">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Cen√°rio</title>

        <!-- Bootstrap 3-->
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="{%static 'treinamento/bootstrap-3.3.6-dist/css/bootstrap.min.css'%}"/>
        <!-- Optional theme -->
        <link rel="stylesheet" href="{%static 'treinamento/bootstrap-3.3.6-dist/css/bootstrap-theme.min.css'%}"/>

        <!-- Leaflet -->
        <link rel="stylesheet" href="{%static 'treinamento/leaflet/leaflet.css'%}"/>

        <!-- Custom Style for Header and Footer-->
        <link rel="stylesheet" type="text/css" href=" {%static 'treinamento/header-footer-style.css'%}"/>

        <!-- Custom Style for Cenario -->
        <link rel="stylesheet" type="text/css" href="{%static 'treinamento/scenario-style.css'%}"/>
    </head>

    <body>

        {%include "treinamento/header.html"%}

        <div id="map">
        </div>

        {%include "treinamento/footer.html"%}

        <!-- Minified Jquery 2.0 -->
        <script src="{%static 'treinamento/lib/jquery-1.12.1.min.js'%}"></script>
        <!-- Latest compiled and minified JavaScript Bootstrap-->
        <script src="{%static 'treinamento/bootstrap-3.3.6-dist/js/bootstrap.min.js'%}"></script>
        <!-- Leaflet Library JS -->
        <script src="{%static 'treinamento/leaflet/leaflet.js'%}"></script>

        <!-- Agent Rest API Interaction -->
        <script src="{%static 'treinamento/AgentAPI.js' %}"></script>

        <!-- Scenario implementation -->
        <script type="text/javascript">
            $(function(){
                /*
                * @require AgentAPI
                */
                "use strict"
                var map = L.map('map').setView([-30.09316, 84.21604], 12)
                L.tileLayer('http://10.67.4.121/osm/1.0.0/brasil/{z}/{x}/{y}.png',{
                    minZoom : 1,
                    crs : L.CRS.EPSG4326,
                    tms : true,
                    continuousWorld : true,
                    noWrap : true
                }).addTo(map)

                var popup = L.popup();

                map.on('click',function(e){
                    popup
                        .setLatLng(e.latlng)
                        .setContent("You clicked the map at "+e.latlng.toString())
                        .openOn(map);
                })

                function renderAgents(){
                    var promise = AgentAPI.getAllAgents()
                    promise.done(function(){

                    })

                    promise.fail(function(){

                    })
                }

            })

        </script>
    </body>
</html>